## アプリケーション概要：AmbientNoise (仮称)

### 1. アプリケーション名 (仮称)

AmbientNoise

### 2. コンセプト

集中、リラックス、睡眠をサポートする iOS 向けノイズジェネレーターアプリ。基本的なホワイトノイズ・ブラウンノイズに加え、課金により多様な環境音（東京の雑踏、カフェのノイズ、自然音など）を提供。買い切り型課金モデルで、一度購入すれば全てのプレミアム機能がアンロックされる。各ノイズは視覚的な背景写真と共に提供され、聴覚と視覚の両方から没入感のある体験を提供する。

### 3. 主要機能

#### 3.1. 無料版機能

- **ノイズ再生:**
  - ホワイトノイズ (White Noise)
  - ブラウンノイズ (Brown Noise)
- **音量調整:** 各ノイズの再生音量を個別に調整可能。
- **タイマー機能:** 指定した時間（例: 5 分, 10 分, 30 分, 1 時間など）でノイズを自動停止。
- **バックグラウンド再生:** アプリがバックグラウンドに移行してもノイズ再生が継続。
- **シンプルな UI:** 直感的でミニマルなデザイン。

#### 3.2. 課金（買い切り）機能

- **プレミアムノイズのアンロック:** 以下のノイズが追加される。
  - ピンクノイズ (Pink Noise)
  - グリーンノイズ (Green Noise)
  - 東京の雑踏 (Tokyo City Noise) - 例: Hibiya, Shibuya Crossing など具体的な場所名を付与
  - カフェのノイズ (Cafe Noise)
  - 自然の音 (Rain, Ocean Waves, Campfire, Birds Singing, Forest Ambience など)
  - アンビエントミュージック
- **ノイズミキサー:** 複数のノイズ（無料・プレミアム含む）を組み合わせて再生可能。各ノイズの音量も個別に調整。
- **お気に入りプリセット:** 作成したミックスを保存し、素早く呼び出し可能。

### 4. 技術スタック

- **言語:** Swift
- **UI フレームワーク:** SwiftUI (優先) または UIKit (必要に応じて)
- **オーディオ再生:** AVFoundation (AVAudioEngine, AVAudioPlayerNode などを活用)
- **課金機能:** StoreKit (In-App Purchase)

### 5. UI/UX の要件

#### 5.1. ノイズ選択画面

- **表示形式:** 各ノイズを「カード型」または「リスト型」で表示。
- **無料/課金ノイズの区別:**
  - 無料ノイズ：シンプルな背景色、グラデーション、または抽象的な波形デザイン。
  - 課金ノイズ：**関連する高解像度の背景写真**を大きく表示。未購入時は鍵アイコンと「Pro」ラベルを表示。
    - 例: 「Tokyo City Noise: Hibiya」を選択すると、日比谷の街並みの写真が背景に表示される。
- **課金プロンプト:** 課金ノイズをタップした際、未購入であれば「このノイズは Pro 版の機能です。買い切り購入で全ての機能がアンロックされます（〇〇円）」といったポップアップを表示し、購入を促す。

#### 5.2. ノイズ再生画面

- **背景写真:** 現在再生中のノイズに関連する背景写真が画面いっぱいに表示される（無料ノイズの場合はシンプルな背景）。
- **UI 要素のオーバーレイ:** 音量スライダー、タイマー設定、再生/停止ボタンなどの操作 UI は、背景写真の上に半透明のオーバーレイとして配置し、写真の視認性を損なわないようにする。
- **情報表示:** 現在再生中のノイズ名、タイマーの残り時間などを背景写真の上部に表示。

#### 5.3. その他の UI/UX 要件

- **ミニマルデザイン:** ノイズ体験を最優先し、視覚的な要素は最小限に抑える。
- **ダークモード対応:** アプリ全体がダークモードに対応していること。
- **直感的な操作:** スライダーやボタンで主要機能を簡単に操作できること。

### 6. 開発に関する指示 (Gemini CLI 向け)

- 上記概要に基づき、SwiftUI を主軸とした iOS アプリの基本構造を構築してください。
- AVFoundation を活用した、低遅延で安定したノイズ再生の仕組みを実装してください。
- ホワイトノイズとブラウンノイズの再生機能を優先して実装してください。
- 課金アイテムのノイズには、ダミーの背景写真またはプレースホルダーを用意し、その上に UI 要素を配置するレイアウトを構築してください。
- 課金プロンプト（未購入時に表示される UI）の基本的な骨組みもお願いします。
- コードには適切なコメントと、今後の拡張性を考慮したアーキテクチャ設計を盛り込んでください。

---

この概要で、Gemini CLI が Swift コードの生成を開始するための十分な情報が提供できるかと思います。
